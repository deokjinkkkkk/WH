<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.admin.wh.notice.mapper.FoodMapper">
	
<select id="getFoodList" resultType="co.admin.wh.notice.vo.FoodVO">
		select * from food
	</select>
	
	<!-- 총 게시글 갯수 출력 -->
	<select id="countFood" resultType="int">
		SELECT COUNT(*) FROM FOOD
	</select>
	
<select id="getFoodSelect" resultType="co.admin.wh.notice.vo.FoodVO">
		SELECT * FROM FOOD
		WHERE 
	</select>
	
	<insert id="foodInsert" parameterType="co.admin.wh.notice.vo.FoodVO">
	<selectKey keyProperty="foodCode" resultType="int" order="BEFORE">
			SELECT MAX(food_Code)+1 FROM FOOD
		</selectKey> 
			INSERT INTO FOOD
			VALUES(#{foodCode},#{id},#{foodName},#{foodAddr},#{foodContent},0,#{foodFile},#{foodDate},#{imgGroCode},#{foodTitle}) 

	</insert>
	
	<select id="getCompanionList" resultType="co.admin.wh.notice.vo.CompanionVO">
		select *
		from food f join member m
        on f.id= m.id		
	</select>
</mapper>