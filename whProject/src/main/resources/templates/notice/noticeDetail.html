<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{/index}">

<body>

	<!-- 내용 시작 -->
	<div layout:fragment="content" class="content">


		<!-- 배너시작 -->
		<section class="page-title-section bg-img cover-background"
			th:style="|background: url('/img/banner/bg2.jpg')|">
			<h1 class="text-white font-weight-600">공지사항</h1>
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><span class="active">공지사항</span></li>
			</ul>
		</section>
		<!-- 배너끝 -->


		<!-- 내용 찐시 -->
		<form method="post" action="/noticeDelete">
			<br> <br>
			<div class="container">
				<table class="table">
					<a href="/notice" class="btn btn-primary">목록</a>
					<br>
					<br>
				<!-- 좋아요버튼, 조회수 눈이모티콘 시작-->	
				<!--조회수 눈 모양 -->	
					<script type="text/javascript">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
					  <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z" />
					  <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z" />
					</svg>
					</script>
					<!--조회수 눈 모양 종-->	
				<!--좋아요 버튼 css-->	
					<style type="text/css">
					a{
					  text-decoration:none; color:inherit; cursor: pointer;
					}
					 .right_area .icon{
					    display: flex;
					    align-items: center;
					    justify-content: center;
					    width: calc(100vw * (45 / 1920));
					    height: calc(100vw * (45 / 1920));
					
					    border-radius: 50%;
					    border: solid 2px #eaeaea;
					    background-color: #fff;
					}
					
					.icon.heart img{
					    width: calc(100vw * (24 / 1920));
					    height: calc(100vw * (24 / 1920));
					}
					
					.icon.heart.fas{
					  color:red
					}
					.heart{
					    transform-origin: center;
					}
					.heart.active img{
					    animation: animateHeart .3s linear forwards;
					}
					
					@keyframes animateHeart{
					    0%{transform:scale(.2);}
					    40%{transform:scale(1.2);}
					    100%{transform:scale(1);}
					  }
					</style>
					<!--좋아요 버튼 css-종료->	
					<!--좋아요 버튼 기능html-->	
					<div class="right_area">
						<a href="javascript:;" class="icon heart"> 
						<img src="https://cdn-icons-png.flaticon.com/512/812/812327.png"
							alt="찜하기">
						</a>
					</div>
						<!--좋아요 버튼 기능html 종료-->	
						<!--좋아요 버튼 기능 시작-->	
					<script>
					//heart 좋아요 클릭시! 하트 뿅
					$(function(){
					    var $likeBtn =$('.icon.heart');

					        $likeBtn.click(function(){
					        $likeBtn.toggleClass('active');

					        if($likeBtn.hasClass('active')){          
					           $(this).find('img').attr({
					              'src': 'https://cdn-icons-png.flaticon.com/512/803/803087.png',
					               alt:'찜하기 완료'
					                });
					         }else{
					            $(this).find('i').removeClass('fas').addClass('far')
					           $(this).find('img').attr({
					              'src': 'https://cdn-icons-png.flaticon.com/512/812/812327.png',
					              alt:"찜하기"
					           })
					         }
					     })
					})
					</script>
						<!-- 좋아요버튼 종료-->	
					<tr>
						<td width="20%" class="text-center warning">번호</td>
						<td width=30% class="text-center" th:text="${n.noticeCode}"></td>
						<td width="20%" class="text-center warning">작성일</td>
						<td width=30% class="text-center" th:text="${n.noticeRegDate}"></td>
					</tr>
					<tr>
						<th width=20% class="text-center warning"><i class="bi bi-eye"></i></th><!-- 눈모양 이모티콘 (조회수) -->
						<td width=30% class="text-center" th:text="${n.noticeHit}"></td>
						<td width=20% class="text-center warning">수정일</td>
						<td width=30% class="text-center" th:text="${n.noticeModDate}"></td>
						<tr>
						<th width=20% class="text-center warning">제목</th>
						<td colspan="3" th:text="${n.noticeTitle}"></td>
					</tr>
					<tr>
						<td colspan="4" class="text-left" valign="top" height="200">
							<pre th:utext="${n.noticeContent}"
								style="white-space: pre-wrap; border: none; background-color: white;"> </pre>
						</td>
					
					<tr>
						<th width=20% class="text-center warning">파일</th>
						<td colspan="3" th:text="${n.imgName}"></td>
					</tr>
					<br>

					<tr>
						<td><a
							th:href="|/noticeUpdateForm?noticeCode=${n.noticeCode}|"
							class="btn btn-primary">수정</a>&nbsp;&nbsp;&nbsp; <input
							type="hidden" name="noticeCode" th:value="${n.noticeCode}" />
							<button type="submit" class="btn btn-danger">삭제</button></td>
				
				</table>

			</div>

		</form>

	</div>

	<script type="text/javascript">
	//NAV HEART COLOR CHANGING
	const navIconBtnLike = document.querySelector('.nav-icon-btn.like');
	const navHeartSvg = document.querySelector('.nav-icon.like');
	const navHeartPath = document.querySelector('.nav-icon.like path')
	const cList =  navHeartSvg.classList;
	navIconBtnLike.addEventListener('click', (e) => {fillHeartBlack(cList,navHeartSvg,navHeartPath); preventRefresh(e);});
	function fillHeartBlack(cList,navHeartSvg,navHeartPath){
		if(cList.contains("nav-icon") && cList.contains("like")){
			navHeartSvg.classList.remove("nav-icon", "like");
			navHeartSvg.classList.add("nav-icon", "like-fill");
			navHeartPath.setAttribute('d','M34.6 6....')
		}
		else{
		 	navHeartSvg.classList.remove("nav-icon", "like-fill");
		 	navHeartSvg.classList.add("nav-icon", "like");
		 	navHeartPath.setAttribute('d','M34.6 3....')
		 }
	}
	function preventRefresh(e){
		e.preventDefault()
	}
	</script>
	<!-- 관리자시 권한 주는것 
						<div
							th:if="${#session.getAttribute('member') != null and #session.getAttribute('member').admin}">
							<a th:href="@{/noticeUpdateForm(noticeCode=${n.noticeCode})}"
								class="btn btn-primary">수정</a>&nbsp;&nbsp;&nbsp; <a
								th:href="@{/noticeDelete(noticeCode=${n.noticeCode})}"
								class="btn btn-danger" onclick="return confirm('정말 삭제하시겠습니까?')">삭제</a>
						</div>
						
	<!-- 내용 끝 --><
					/body>
</html>